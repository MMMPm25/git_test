<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-dark">
  <p-toolbar styleClass="bg-bluegray-900 opacity-90">
    <div class="p-toolbar-group-start">
      <h5 class="text-white fw-bold"><i class="pi pi-shopping-cart fw-bold mr-2" style="font-size: 2rem"></i>Products</h5>
    </div>
    <div class="p-toolbar-group-center">
      <button class="p-link inline-flex justify-content-center align-items-center text-white h-3rem w-3rem border-circle hover:bg-white-alpha-10 transition-all transition-duration-200">
        <i class="pi pi-shopping-cart text-2xl text-danger"></i>
    </button>
    <button class="p-link inline-flex justify-content-center align-items-center text-white h-3rem w-3rem border-circle hover:bg-white-alpha-10 transition-all transition-duration-200">
        <a routerLink="/user" class="pi pi-user text-2xl text-secondary no-underline"></a>
    </button>

  </div>
    <div class="p-toolbar-group-end ">

      <button class="btnr btn btn-danger fs-5 fw-bold" (click)="logout()"><i class="pi pi-sign-out fw-bold"></i></button>

    </div>
  </p-toolbar>


  <div class="row">

    <div class="col-8 d-block">
      <div class="mb-3">
        <label for="exampleInputEmail1" class="form-label text-light fw-bold fs-4 ms-3">Search</label>
        <input type="email" [(ngModel)]="searchQuery" (input)="onSearch()" class="form-control ms-2 text-light bg-dark " id="exampleInputEmail1" >

      </div>
      <div class="card">
        <div class="card-header bg-dark border-light border-bottom-1">
          <div class="row">
            <div class="col-6 text-light fw-bold ts-4 fs-3">
              Product List

            </div>

          </div>
        </div>
        <div class="card-body bg-dark">
          <table class="table table-dark table-striped">
            <thead>
              <tr>
                <th scope="col">pid</th>
                <th scope="col">Product Name</th>
                <th scope="col">Price</th>
                <th>Option</th>

              </tr>
            </thead>
            <tbody>

                <tr *ngFor="let item of filteredUserList; trackBy: trackByIndex">
                <th scope="row">{{ item.id }}</th>
                <td>{{ item.pname }}</td>
                <td>{{ item.price }}</td>
                <td>
                  <button class="fs-6 btn btn-warning btn-sm text-light" (click)="onEdit(item)"><i class="pi pi-pen-to-square fs-5"></i></button>
                  <button class="fs-6 btn btn-danger btn-sm" (click)="onDelete(item.id)"><i class="pi pi-trash fs-5"></i></button>
                </td>
              </tr>



            </tbody>
          </table>
        </div>
      </div>
      <!---->


    </div>
    <div class="col-4 d-block">
      <div class="card">
        <div class="card-header bg-dark">
          <div class="row">
            <div class="col-6 text-light">
              <h6 class="p-2">{{ editMode ?'Edit Product':'Add Product'}}</h6>

            </div>
            <div class="col-6 text-end">
              <button class="btn btn-light fs-5 btn-sm" (click)="onReset(productForm)"><i class="pi pi-refresh"></i></button>
            </div>
          </div>
        </div>
        <div class="card-body bg-dark ">

            <form class="row g-3 needs-validation border-light border-top-1" novalidate #productForm="ngForm" (ngSubmit)="onSubmit(productForm)">
              <div class="col-md-6 ">
                <label for="validationCustom01" class="form-label text-light">Product Name</label>
                <input type="text" name="pname" [(ngModel)]="product.pname" class="form-control text-light bg-dark" id="validationCustom01" value="Mark" required>
                <div class="valid-feedback">
                  Looks good!
                </div>
              </div>
              <div class="col-md-6">
                <label for="validationCustom02" class="form-label text-light">Price</label>
                <input type="text" name="price" [(ngModel)]="product.price" class="form-control text-light bg-dark" id="validationCustom02" value="Otto" required>
                <div class="valid-feedback">
                  Looks good!
                </div>
              </div>


              <div class="col-12">
                <button class="btn btn-primary fs-5" type="submit" ><i class="pi pi-{{ editMode ? 'pencil':'save' }}"></i></button>
              </div>
            </form>

        </div>
      </div>


    </div>
  </div>




  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
